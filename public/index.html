<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>GitCid</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        background-color: #232629;
        color: #7a7c7d;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #7a7c7d;  padding-left: 4px; }
    div.sourceCode
      { color: #cfcfc2; background-color: #232629; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #cfcfc2; } /* Normal */
    code span.al { color: #95da4c; background-color: #4d1f24; font-weight: bold; } /* Alert */
    code span.an { color: #3f8058; } /* Annotation */
    code span.at { color: #2980b9; } /* Attribute */
    code span.bn { color: #f67400; } /* BaseN */
    code span.bu { color: #7f8c8d; } /* BuiltIn */
    code span.cf { color: #fdbc4b; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #3daee9; } /* Char */
    code span.cn { color: #27aeae; font-weight: bold; } /* Constant */
    code span.co { color: #7a7c7d; } /* Comment */
    code span.cv { color: #7f8c8d; } /* CommentVar */
    code span.do { color: #a43340; } /* Documentation */
    code span.dt { color: #2980b9; } /* DataType */
    code span.dv { color: #f67400; } /* DecVal */
    code span.er { color: #da4453; text-decoration: underline; } /* Error */
    code span.ex { color: #0099ff; font-weight: bold; } /* Extension */
    code span.fl { color: #f67400; } /* Float */
    code span.fu { color: #8e44ad; } /* Function */
    code span.im { color: #27ae60; } /* Import */
    code span.in { color: #c45b00; } /* Information */
    code span.kw { color: #cfcfc2; font-weight: bold; } /* Keyword */
    code span.op { color: #cfcfc2; } /* Operator */
    code span.ot { color: #27ae60; } /* Other */
    code span.pp { color: #27ae60; } /* Preprocessor */
    code span.re { color: #2980b9; background-color: #153042; } /* RegionMarker */
    code span.sc { color: #3daee9; } /* SpecialChar */
    code span.ss { color: #da4453; } /* SpecialString */
    code span.st { color: #f44f4f; } /* String */
    code span.va { color: #27aeae; } /* Variable */
    code span.vs { color: #da4453; } /* VerbatimString */
    code span.wa { color: #da4453; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="index.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title"><a href="#table-of-contents">GitCid</a></h1>
</header>
<p><a href="https://gitc.id">gitc.id</a> ⊙ <em>“power tools for <a href="https://git-scm.com"><code>git</code></a>”</em> ⊙ <a href="https://defcronyke.gitlab.io/epaper-idf/jeremy-profile-paint-bw.png">Copyright © 2021</a> <a href="https://eternalvoid.net">Jeremy Carter</a> <code>&lt;</code><a href="mailto:Jeremy%20Carter%20%3Cjeremy@jeremycarter.ca%3E?subject=gitcid">jeremy@jeremycarter.ca</a><code>&gt;</code></p>
<p><a href="https://gitlab.com/defcronyke/gitcid/-/commits/master"><img src="https://gitlab.com/defcronyke/gitcid/badges/master/pipeline.svg" alt="pipeline status" /></a> <a href="https://github.com/sponsors/defcronyke"><img src="https://img.shields.io/static/v1?label=Sponsor&amp;message=%E2%9D%A4&amp;logo=GitHub&amp;link=https://github.com/sponsors/defcronyke" alt="sponsor the project" /></a></p>
<hr />
<h1 id="table-of-contents"><a href="#table-of-contents">Table of Contents</a></h1>
<ul>
<li><a href="#gitcid">GitCid</a>
<ul>
<li><a href="#table-of-contents">Table of Contents</a></li>
<li><a href="#links">Links</a>
<ul>
<li><a href="#website">Website</a></li>
<li><a href="#source-code">Source Code</a></li>
</ul></li>
<li><a href="#terms-of-use">Terms of Use</a></li>
<li><a href="#features">Features</a></li>
<li><a href="#dependencies">Dependencies</a></li>
<li><a href="#quickstart">Quickstart</a>
<ul>
<li><a href="#download-gitcid">Download GitCid</a></li>
<li><a href="#create-a-new-git-remote-with-gitcid-features">Create a new git remote with GitCid features</a></li>
</ul></li>
<li><a href="#usage-examples">Usage Examples</a>
<ul>
<li><a href="#get-usage-help">Get Usage Help</a></li>
<li><a href="#install-gitcid-into-an-existing-git-repo">Install GitCid into an existing git repo</a></li>
<li><a href="#make-new-git-repositories">Make new git repositories</a></li>
</ul></li>
<li><a href="#install-a-dedicated-git-server">Install a Dedicated Git Server</a>
<ul>
<li><a href="#tldr-lets-just-install-the-git-server">TLDR; Let’s just install the git server</a></li>
<li><a href="#git-server-install-instructions">Git Server Install Instructions</a></li>
<li><a href="#git-server-usage-examples">Git Server Usage Examples</a></li>
<li><a href="#git-server-development">Git Server Development</a></li>
</ul></li>
</ul></li>
</ul>
<hr />
<h1 id="links"><a href="#links">Links</a></h1>
<h2 id="website"><a href="#website">Website</a></h2>
<ul>
<li><a href="https://gitc.id">https://gitc.id</a></li>
<li><a href="https://gitcid.org">https://gitcid.org</a></li>
<li><a href="https://gitcid.com">https://gitcid.com</a></li>
<li><a href="https://defcronyke.gitlab.io/gitcid">https://defcronyke.gitlab.io/gitcid</a></li>
<li><a href="https://defcronyke.github.io/gitcid">https://defcronyke.github.io/gitcid</a></li>
</ul>
<h2 id="source-code"><a href="#source-code">Source Code</a></h2>
<ul>
<li><a href="https://gitlab.com/defcronyke/gitcid">https://gitlab.com/defcronyke/gitcid</a></li>
<li><a href="https://github.com/defcronyke/gitcid">https://github.com/defcronyke/gitcid</a></li>
</ul>
<hr />
<h1 id="terms-of-use"><a href="#terms-of-use">Terms of Use</a></h1>
<p>Use of this software is governed by the terms of <a href="https://gitlab.com/defcronyke/gitcid/-/raw/master/LICENSE">the included MIT License</a> (<a href="https://raw.githubusercontent.com/defcronyke/gitcid/master/LICENSE">GitHub mirror</a>).</p>
<hr />
<h1 id="features"><a href="#features">Features</a></h1>
<ul>
<li>Quickly deploy new <code>git</code> remotes using <code>ssh</code> and <code>rsync</code> that you can push to, with <code>gitcid</code> tools activated inside them.</li>
<li>Quickly commit, push, or clone <code>git</code> repos, and add <code>gitcid</code> tools inside them.</li>
<li>The <code>gitcid</code> tools live inside each local or remote <code>git</code> repo, you can add them to any of your existing repos with one command.</li>
<li>When you add <code>gitcid</code> to your repo, it gains built-in <code>CI/CD</code> features with a bit of help from <code>docker-compose</code> (work-in-progress).</li>
<li>Specify your <code>CI/CD pipelines</code> in a <code>yaml</code> format that might be comfortable for you if you’ve used other <code>CI/CD</code> systems before.</li>
<li>Quickly deploy <a href="#install-a-dedicated-git-server"><code>dedicated git servers</code></a> to <code>ssh</code> remote locations using one command. It’s recommended to install them on some dedicated devices on your LAN such as <code>Raspberry Pi</code> running <code>Raspberry Pi OS (aarch64 or armhf)</code>. Regular <code>Debian (amd64)</code> targets are also supported. Perhaps it works on some <code>Debian-derived</code> distros as well, but that hasn’t been tested.</li>
<li>Plug in some removable disks to your <code>git server</code> and it will automatically share any <code>git repos</code> it finds to the rest of your LAN.</li>
<li>Browse your shared <code>git repos</code> with a familiar <code>GitWeb</code> UI.</li>
</ul>
<hr />
<h1 id="dependencies"><a href="#dependencies">Dependencies</a></h1>
<p>GitCid will try to install these for you automatically if they’re missing from your system, but if it fails, you might need to install them yourself:</p>
<ul>
<li>curl</li>
<li>rsync</li>
<li>git</li>
<li>docker</li>
<li>docker-compose - Usually the version found in <code>pip</code> or <code>pip3</code> (python’s package manager) is the one that works properly.</li>
<li>yq ( <a href="https://github.com/mikefarah/yq">https://github.com/mikefarah/yq</a> )</li>
</ul>
<p>There are a few more dependencies needed depending on your OS, but they should be installed automatically in most cases. See the files in <code>.gc/.gc-deps</code> for full details.</p>
<hr />
<h1 id="quickstart"><a href="#quickstart">Quickstart</a></h1>
<hr />
<h2 id="download-gitcid"><a href="#download-gitcid">Download GitCid</a></h2>
<ol type="1">
<li><p>Make sure you’ve installed <a href="https://git-scm.com"><code>git</code></a> and <a href="https://man7.org/linux/man-pages/man1/curl.1.html"><code>curl</code></a> first, then run the following command:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="bu">source</span> <span class="op">&lt;(</span><span class="ex">curl</span> <span class="at">-sL</span> https://tinyurl.com/gitcid<span class="op">)</span></span></code></pre></div>
<p>When this command finishes, it will have created a new folder called <code>gitcid</code> in your current directory, and then it will bring you into this new folder.</p></li>
<li><p>(Optional) Or if you prefer, you can run this command instead:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://gitlab.com/defcronyke/gitcid.git <span class="kw">&amp;&amp;</span> <span class="bu">cd</span> gitcid <span class="kw">&amp;&amp;</span> <span class="bu">echo</span> <span class="st">&quot;&quot;</span> <span class="kw">&amp;&amp;</span> <span class="ex">.gc/init.sh</span> <span class="at">-h</span></span></code></pre></div></li>
</ol>
<h2 id="create-a-new-git-remote-with-gitcid-features"><a href="#create-a-new-git-remote-with-gitcid-features">Create a new git remote with GitCid features</a></h2>
<ol type="1">
<li><p>In the <code>gitcid</code> folder, run this command:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">.gc/new-remote.sh</span> ~/repo1.git</span></code></pre></div>
<ul>
<li>It should output some details, and if successful, it will have created a new git remote repo at the path: <code>~/repo1.git</code></li>
<li>It will tell you the proper <code>git clone</code> command that you can use to clone your new repo at the bottom of the output if everything worked properly.</li>
<li>If it didn’t work properly for some reason, it will mention some errors which can help you figure out what went wrong.</li>
</ul></li>
<li><p>You can use remote <code>ssh</code> paths for the new remote repo location also, instead of a local path, for example:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">.gc/new-remote.sh</span> git1:~/repo1.git</span></code></pre></div></li>
<li><p>An example <code>git clone</code> command to clone your git repo might look something like this:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone git1:~/repo1.git <span class="kw">&amp;&amp;</span> <span class="bu">cd</span> repo1</span></code></pre></div>
<p>It’s just the regular way of cloning git repos.</p></li>
<li><p>When you make your new remote repo, you will also be given a command you can use to add <code>GitCid</code> features to your locally cloned repo that you cloned from the remote. Here’s that same command in case you need it. Make sure you’re inside your local repo when you run this command:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="bu">source</span> <span class="op">&lt;(</span><span class="ex">curl</span> <span class="at">-sL</span> https://tinyurl.com/gitcid<span class="op">)</span> <span class="at">-e</span></span></code></pre></div>
<p>The above command will add GitCid to your git repo in a .gitignore’d folder called: <code>.gc/</code></p></li>
</ol>
<hr />
<h1 id="usage-examples"><a href="#usage-examples">Usage Examples</a></h1>
<hr />
<h2 id="get-usage-help"><a href="#get-usage-help">Get Usage Help</a></h2>
<ul>
<li><p>Run this command from the top-level directory of the GitCid repo, for usage info:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">.gc/init.sh</span> <span class="at">-h</span></span></code></pre></div></li>
</ul>
<h2 id="install-gitcid-into-an-existing-git-repo"><a href="#install-gitcid-into-an-existing-git-repo">Install GitCid into an existing git repo</a></h2>
<ul>
<li><p>Run this command from the top-level directory of your existing git repo that you’d like to install GitCid into (it works for both regular and bare repos):</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="bu">source</span> <span class="op">&lt;(</span><span class="ex">curl</span> <span class="at">-sL</span> https://tinyurl.com/gitcid<span class="op">)</span> <span class="at">-e</span></span></code></pre></div></li>
</ul>
<h2 id="make-new-git-repositories"><a href="#make-new-git-repositories">Make new git repositories</a></h2>
<ul>
<li><p>NOTE: The remote targets need to have <code>rsync</code> installed.</p></li>
<li><p>Run these <code>.gc/init.sh</code> commands from the top-level directory of the GitCid repo, to make new GitCid git repositories.</p></li>
</ul>
<ol type="1">
<li><p>Make a new local git repo with the default name of “<code>repo</code>” in the current directory:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">.gc/init.sh</span></span></code></pre></div></li>
<li><p>Make a new local git repo:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">.gc/init.sh</span> ./local-repo</span></code></pre></div></li>
<li><p>Make a new remote git repo at a target ssh server path:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">.gc/init.sh</span> user@host:~/remote-repo</span></code></pre></div></li>
<li><p>Make several new git repos at once, local and/or remote ones:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">.gc/init.sh</span> local-repo1 user@host:~/remote-repo1 user@host:~/remote-repo2 ./local-repo2</span></code></pre></div></li>
<li><p>Make several new bare git repos at once (suitable for using as git remotes), local and/or remote ones:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">.gc/init.sh</span> <span class="at">-b</span> user@host:~/remote-bare-repo1.git local-bare-repo1.git ./local-bare-repo2</span></code></pre></div></li>
</ol>
<hr />
<h1 id="install-a-dedicated-git-server"><a href="#install-a-dedicated-git-server">Install a Dedicated Git Server</a></h1>
<hr />
<p>Install a git server at a target ssh location, using tools from this project:</p>
<p><a href="https://gitlab.com/defcronyke/git-server">https://gitlab.com/defcronyke/git-server</a></p>
<p>Currently supported target platforms:</p>
<ul>
<li>Debian Stable (amd64)</li>
<li>Debian Testing (amd64)</li>
<li>Raspberry Pi OS (armhf)</li>
<li>Raspberry Pi OS (aarch64)</li>
</ul>
<p>Platform support wishlist (Please feel free to test and contribute fix suggestions if you’d like to help with adding support for these):</p>
<ul>
<li>Arch Linux (amd64)</li>
</ul>
<p>Maybe it works on other Debian or Debian-based platforms, but this hasn’t been tested yet.</p>
<p>WARNING: USE AT YOUR OWN RISK! You should only run the commands in this section to install a dedicated git server onto a freshly installed Linux distro which is intended to be used only as a dedicated git server! This will install some dependencies automatically and do some system configurations that you might not prefer to have on devices that are being used for other purposes. USE AT YOUR OWN RISK! YOU HAVE BEEN WARNED!!</p>
<hr />
<h2 id="tldr-lets-just-install-the-git-server"><a href="#tldr-lets-just-install-the-git-server">TLDR; Let’s just install the git server</a></h2>
<ul>
<li><p>Install a <code>git server</code> to a remote <code>ssh</code> location (or two as in this example), by running the following command in a <code>bash</code> terminal:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="bu">source</span> <span class="op">&lt;(</span><span class="ex">curl</span> <span class="at">-sL</span> https://tinyurl.com/gitcid<span class="op">)</span> <span class="kw">&amp;&amp;</span> <span class="ex">.gc/new-git-server.sh</span> <span class="at">-o</span> pi@git1 <span class="va">$USER</span>@gitlab</span></code></pre></div>
<p>Usually it just works, and with the <code>-o</code> flag used above, it should auto-open a web page for each git server it finds on your network after the install is finished. For more info and other options, see the next section below.</p></li>
<li><p>The example above will also install <code>gitcid</code>, which makes it easier to work with the git server. If you already have <code>gitcid</code> installed, you don’t need to install it again, so in that case you can omit the first part of the above command, for example:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">.gc/new-git-server.sh</span> <span class="at">-o</span> pi@git1 <span class="va">$USER</span>@gitlab</span></code></pre></div>
<p>Just make sure you’re inside the <code>gitcid/</code> folder first (or any <code>gitcid</code>-enabled git repo), before trying to run any <code>gitcid</code> commands.</p></li>
</ul>
<hr />
<h2 id="git-server-install-instructions"><a href="#git-server-install-instructions">Git Server Install Instructions</a></h2>
<ol type="1">
<li><p>Install GitCid:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="bu">source</span> <span class="op">&lt;(</span><span class="ex">curl</span> <span class="at">-sL</span> https://tinyurl.com/gitcid<span class="op">)</span></span></code></pre></div>
<p>If successful, you will now be inside the freshly downloaded <code>./gitcid/</code> folder. You need to be inside this folder for step 2.</p></li>
<li><p>Install new git server(s) onto dedicated device(s) at the given <code>ssh</code> target location(s):</p>
<ul>
<li>Usage details:</li>
</ul>
<div class="sourceCode" id="cb17"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="ex">.gc/new-git-server.sh</span> <span class="at">-h</span></span></code></pre></div>
<ul>
<li>Install or update some git servers, with a confirmation prompt before installing:</li>
</ul>
<div class="sourceCode" id="cb18"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="ex">.gc/new-git-server.sh</span> git1 git2 gitlab</span></code></pre></div>
<ul>
<li>Install or update some git servers with a confirmation prompt. Open a web browser tab for each available GitWeb server page found on your network when finished:</li>
</ul>
<div class="sourceCode" id="cb19"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="ex">.gc/new-git-server.sh</span> <span class="at">-o</span> git1 git2 gitlab</span></code></pre></div>
<ul>
<li>Non-interactive automated version:</li>
</ul>
<div class="sourceCode" id="cb20"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="ex">.gc/new-git-server.sh</span> <span class="at">-y</span> git1 git2 gitlab</span></code></pre></div>
<ul>
<li>Non-interactive automated version, open web browser to GitWeb pages when finished:</li>
</ul>
<div class="sourceCode" id="cb21"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="ex">.gc/new-git-server.sh</span> <span class="at">-yo</span> git1 git2 gitlab</span></code></pre></div>
<ul>
<li>Non-interactive sequential install. In the examples above, installs are attempted first in parallel whenever possible. To override that behaviour and perform all installs sequentially one at a time, use this command instead:</li>
</ul>
<div class="sourceCode" id="cb22"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">.gc/new-git-server.sh</span> <span class="at">-s</span> git1 git2 gitlab</span></code></pre></div>
<ul>
<li>Non-interactive sequential install, and open a web browser to GitWeb pages when finished:</li>
</ul>
<div class="sourceCode" id="cb23"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="ex">.gc/new-git-server.sh</span> <span class="at">-so</span> git1 git2 gitlab</span></code></pre></div>
<ul>
<li>Specify the ssh username to log in as during install on the targets. By default, the ssh config for each hostname is used from your <code>~/.ssh/config</code> file, but if you prefer, you can add a username in the command below for each target. You can do this for any of the various commands listed above, for example:</li>
</ul>
<div class="sourceCode" id="cb24"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="ex">.gc/new-git-server.sh</span> <span class="at">-yo</span> pi@git1 pi@git2 <span class="va">$USER</span>@gitlab</span></code></pre></div>
<p>If everything worked as intended, your git server(s) are now ready to use. See the output in your terminal for more details. During parallel installs (the default behaviour unless using the <code>-s</code> flag variants), if non-interactive sudo support isn’t configured on the target, the system will fall back to sequential install mode for any targets which need the sudo password typed manually. After typing the sudo password once successfully, a passwordless sudo configuration will be attempted on the target, so that any future interactions with that target can be fully-automated.</p></li>
</ol>
<hr />
<h2 id="git-server-usage-examples"><a href="#git-server-usage-examples">Git Server Usage Examples</a></h2>
<p>Here’s some examples of how to use your git server for some common git-related tasks. The following commands should be run from inside your <code>gitcid/</code> folder, or inside any <code>gitcid</code>-enabled git repo.</p>
<ol type="1">
<li><p>Create a new git remote repo on the git server, for example, a repo named <code>repo1.git</code> at the hostname <code>git1</code>:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="ex">.gc/new-remote.sh</span> git1:repo1</span></code></pre></div>
<p>Newly created remote repos will become available for use after a short delay, typically less than 1 minute. If you receive an error when trying to use a newly created remote repo, try again after 1 minute has passed since creating it and it should work.</p></li>
<li><p>Clone a local copy of your new repo from the server:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone git1:~/git/repo1.git</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> repo1</span></code></pre></div></li>
<li><p>Commit some changes to your new repo, then push it to the origin remote on your git server:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">date</span> <span class="kw">|</span> <span class="fu">tee</span> <span class="at">-a</span> test1.txt</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add .</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">&quot;A test commit.&quot;</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> push</span></code></pre></div></li>
<li><p>(Optional) Add <code>gitcid</code> to your local copy of your git repo if you’d like to use any <code>gitcid</code> commands while working inside your repo. Run the following command while inside your repo to install <code>gitcid</code> features:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="bu">source</span> <span class="op">&lt;(</span><span class="ex">curl</span> <span class="at">-sL</span> https://tinyurl.com/gitcid<span class="op">)</span> <span class="at">-e</span></span></code></pre></div></li>
<li><p>(Optional) With <code>gitcid</code> added to your repo from the previous step, you can commit and push more easily:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="ex">.gc/commit-push.sh</span> Commit message.</span></code></pre></div></li>
</ol>
<hr />
<h2 id="git-server-development"><a href="#git-server-development">Git Server Development</a></h2>
<p>If you’d like to contribute to the development of the <code>git server</code>, you can run this command if you want, to help you set up your dev environment for this purpose:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="bu">source</span> <span class="op">&lt;(</span><span class="ex">curl</span> <span class="at">-sL</span> https://tinyurl.com/gitcid<span class="op">)</span> <span class="at">-e</span></span></code></pre></div>
<p>It will clone all related project git repositories, and it will install <code>gitcid</code> into them for convenience.</p>
<hr />
</body>
</html>
